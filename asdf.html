<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>TODO List</h1>
    <input id="data" onkeyup="enterData(event)">
 
    <ul id="container">
    
    </ul>
    
</body>


<script>

    let array1 = ['스터디하기', '제로콜라마시기', '이클립스 먹기'];

    function setLiTag()
    {
        
        const constainerDiv = window.document.getElementById("container");

        while(constainerDiv.hasChildNodes())
           { constainerDiv.removeChild(constainerDiv.lastChild);}
    
    array1.forEach
        ((value) =>
            {
                constainerDiv.insertAdjacentHTML(
                `befoeend`,
                `<li>
                    <span>${value}</span>
                    <span style="color:orange;cursor:pointer" onclick="deleteItem('${value}')"> X</span>
                </li>`
                );

            }
        );
    }

    function addItem(itemName)
    {
        array1.push(itemName);

        setLiTag();
    }

    function deleteItem(itemName)
    {
        const idx = array1.indexOf(itemName);

        array1.splice(idx, 1);

        setLiTag();
    }

    function enterData(event)
    {
        if(event.keyCode === 13)
        {
            const dataInput = document.getElementById("data");

            if(
                (dataInput.value != null && dataInput.value != "")&&
                !array1.includes(dataInput.value)
            )
            {
                addItem(dataInput.value);

                dataInput.value = "";
            }
            else
            {
                alert(`이미 등록되어 있습니다.`);
            }
        }
    }

    setLiTag();
</script>
</html>